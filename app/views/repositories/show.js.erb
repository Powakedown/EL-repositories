document.querySelectorAll('.card-generic').forEach(card => {
  card.classList.remove("card-generic-opened");
  card.querySelector('.card-generic-details-container').innerHTML = "";
  const detailLink = card.querySelector('.card-generic-details-link')
  if(detailLink) { detailLink.style.display = "none"; }
});

repositoryCard = document.querySelector(`#repository-<%= @repository.id %>`);

if(repositoryCard){
  repositoryCard.classList.add('card-generic-opened');
  repositoryCard.querySelector('.card-generic-details-container').innerHTML += '<%= j render "shared/components/cards/card_generic_details", resource: @repository %>';
  repositoryCard.querySelector('.card-generic-details-container').innerHTML += '<%= j render "shared/components/cards/card_generic_details_link", resource: @repository %>';
}
